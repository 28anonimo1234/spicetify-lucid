(async()=>{for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var B=Object.create,D=Object.defineProperty,$=Object.defineProperties,T=Object.getOwnPropertyDescriptor,j=Object.getOwnPropertyDescriptors,V=Object.getOwnPropertyNames,z=Object.getOwnPropertySymbols,F=Object.getPrototypeOf,H=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,q=(e,t,a)=>t in e?D(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,u=(e,t)=>{for(var a in t=t||{})H.call(t,a)&&q(e,a,t[a]);if(z)for(var a of z(t))G.call(t,a)&&q(e,a,t[a]);return e},d=(e,t)=>$(e,j(t)),e=(e,t,a)=>(a=null!=e?B(F(e)):{},((t,a,r,l)=>{if(a&&"object"==typeof a||"function"==typeof a)for(let e of V(a))H.call(t,e)||e===r||D(t,e,{get:()=>a[e],enumerable:!(l=T(a,e))||l.enumerable});return t})(!t&&e&&e.__esModule?a:D(a,"default",{value:e,enumerable:!0}),e)),r=(a=(e,t)=>function(){return t||(0,e[V(e)[0]])((t={exports:{}}).exports,t),t.exports})({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}}),W=a({"node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.development.js"(e){function i(e){for(var t=arguments.length,a=new Array(1<t?t-1:0),r=1;r<t;r++)a[r-1]=arguments[r];var l="error",n=a,o=u.ReactDebugCurrentFrame.getStackAddendum();""!==o&&(e+="%s",n=n.concat([o])),(o=n.map(function(e){return String(e)})).unshift("Warning: "+e),Function.prototype.apply.call(console[l],console,o)}function s(e){var t=e.getSnapshot,e=e.value;try{var a=t();return!d(e,a)}catch(e){return 1}}var c,u,d,m,p,f,g,y,v,t;"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error),c=r(),u=c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,d="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},m=c.useState,p=c.useEffect,f=c.useLayoutEffect,g=c.useDebugValue,v=y=!1,t=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),t=void 0!==c.useSyncExternalStore?c.useSyncExternalStore:!t?function(e,t,a){return t()}:function(e,t,a){y||void 0!==c.startTransition&&(y=!0,i("You are using an outdated, pre-release alpha of React 18 that does not support useSyncExternalStore. The use-sync-external-store shim will not work correctly. Upgrade to a newer pre-release."));var r=t(),l=(v||(l=t(),d(r,l))||(i("The result of getSnapshot should be cached to avoid an infinite loop"),v=!0),m({inst:{value:r,getSnapshot:t}})),n=l[0].inst,o=l[1];return f(function(){n.value=r,n.getSnapshot=t,s(n)&&o({inst:n})},[e,r,t]),p(function(){s(n)&&o({inst:n});return e(function(){s(n)&&o({inst:n})})},[e]),g(r),r},e.useSyncExternalStore=t,"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}}),K=a({"node_modules/use-sync-external-store/shim/index.js"(e,t){t.exports=W()}}),Z=a({"node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.development.js"(e){var t,a,u,n,d,m,p,f;"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStart(new Error),t=r(),a=K(),u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},n=a.useSyncExternalStore,d=t.useRef,m=t.useEffect,p=t.useMemo,f=t.useDebugValue,e.useSyncExternalStoreWithSelector=function(e,a,o,i,s){var c,t=d(null);null===t.current?(c={hasValue:!1,value:null},t.current=c):c=t.current;var r=(t=p(function(){var r,l,n=!1,e=function(e){if(n)return t=l,u(r,e)||(a=i(e),void 0!==s&&s(t,a))?t:(r=e,l=a);n=!0;var t=i(r=e);if(void 0!==s&&c.hasValue){var a=c.value;if(s(a,t))return l=a}return l=t},t=void 0===o?null:o;return[function(){return e(a())},null===t?void 0:function(){return e(t())}]},[a,o,i,s]))[0],l=n(e,r,t[1]);return m(function(){c.hasValue=!0,c.value=l},[l]),f(l),l},"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop&&__REACT_DEVTOOLS_GLOBAL_HOOK__.registerInternalModuleStop(new Error)}}),t=a({"node_modules/use-sync-external-store/shim/with-selector.js"(e,t){t.exports=Z()}}),J=a({"node_modules/canvas/lib/parse-font.js"(e,t){var a=`'([^']+)'|"([^"]+)"|[\\w\\s-]+`,l=new RegExp("(bold|bolder|lighter|[1-9]00) +","i"),n=new RegExp("(italic|oblique) +","i"),o=new RegExp("(small-caps) +","i"),i=new RegExp("(ultra-condensed|extra-condensed|condensed|semi-condensed|semi-expanded|expanded|extra-expanded|ultra-expanded) +","i"),s=new RegExp(`([\\d\\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q) *((?:${a})( *, *(?:${a}))*)`),c={};t.exports=e=>{if(c[e])return c[e];var t=s.exec(e);if(t){var a,r={weight:"normal",style:"normal",stretch:"normal",variant:"normal",size:parseFloat(t[1]),unit:t[2],family:t[3].replace(/["']/g,"").replace(/ *, */g,",")},t=e.substring(0,t.index);switch((a=l.exec(t))&&(r.weight=a[1]),(a=n.exec(t))&&(r.style=a[1]),(a=o.exec(t))&&(r.variant=a[1]),(a=i.exec(t))&&(r.stretch=a[1]),r.unit){case"pt":r.size/=.75;break;case"pc":r.size*=16;break;case"in":r.size*=96;break;case"cm":r.size*=96/2.54;break;case"mm":r.size*=96/25.4;break;case"%":break;case"em":case"rem":r.size*=16/.75;break;case"q":r.size*=96/25.4/4}return c[e]=r}}}}),a=a({"node_modules/canvas/browser.js"(e){var t=J();e.parseFont=t,e.createCanvas=function(e,t){return Object.assign(document.createElement("canvas"),{width:e,height:t})},e.createImageData=function(e,t,a){switch(arguments.length){case 0:return new ImageData;case 1:return new ImageData(e);case 2:return new ImageData(e,t);default:return new ImageData(e,t,a)}},e.loadImage=function(l,n){return new Promise(function(e,t){let a=Object.assign(document.createElement("img"),n);function r(){a.onload=null,a.onerror=null}a.onload=function(){r(),e(a)},a.onerror=function(){r(),t(new Error('Failed to load the image "'+l+'"'))},a.src=l})}}}),X=e(r()),n=e(r()),o=e(r()),Y={settings:!1,changelog:!1},{ModalContextProvider:Q,useModal:ee}=(()=>{let n=o.default.createContext(null);return{ModalContextProvider:({children:e})=>{let[a,r]=o.default.useState(Y),t=o.default.useCallback(t=>({isOpen:a[t],openModal:()=>{r(e=>d(u({},e),{[t]:!0}))},closeModal:()=>{r(e=>d(u({},e),{[t]:!1}))}}),[a]);var l=o.default.useMemo(()=>t,[t]);return o.default.createElement(n.Provider,{value:l},e)},useModal:e=>{var t=o.default.useContext(n);if(t)return t(e);throw new Error("Wrap Element with ModalContextProvider")}}})(),l=e(r()),te=e(r()),ae={},re=e=>{let r,l=new Set;var t=(e,a)=>{e="function"==typeof e?e(r):e;if(!Object.is(e,r)){let t=r;r=(null!=a?a:"object"!=typeof e||null===e)?e:Object.assign({},r,e),l.forEach(e=>e(r,t))}},a=()=>r,n={setState:t,getState:a,getInitialState:()=>o,subscribe:e=>(l.add(e),()=>l.delete(e)),destroy:()=>{"production"!==(ae.env?ae.env.MODE:void 0)&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),l.clear()}};let o=r=e(t,a,n);return n},le=e=>e?re(e):re,ne=e(r(),1),t=e(t(),1),oe={},ie=ne.default.useDebugValue,se=t.default.useSyncExternalStoreWithSelector,ce=!1,ue=e=>e,de=e=>{"production"!==(oe.env?oe.env.MODE:void 0)&&"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let r="function"==typeof e?le(e):e;e=(e,t)=>{return[e,t=ue,a]=[r,e,t],"production"!==(oe.env?oe.env.MODE:void 0)&&a&&!ce&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),ce=!0),e=se(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,a),ie(e),e;var a};return Object.assign(e,r),e},ne=e=>e?de(e):de,me={underMainBackgroundImage:"",isCustomControls:!1,pageCategory:"other",artworkData:{nowPlayingArtURL:"",currentPageURI:"",currentPageArtURL:""},isLightMode:"light"===(null==Spicetify?void 0:Spicetify.Config.color_scheme)||!1,isWindows:!(!Spicetify.Platform||"Windows"!==Spicetify.Platform.operatingSystem)||!(null==(t=null==(t=Spicetify.Platform)?void 0:t.PlatformData)||!t.os_name)&&Spicetify.Platform.PlatformData.os_name.toLowerCase().includes("win"),isGlobalNav:!(!document.querySelector(".globalNav")&&!document.querySelector(".Root__globalNav")),rootStyle:document.body.style||document.documentElement.style},m=ne(e=>d(u({},me),{updateArtworkData:t=>e(e=>d(u({},e),{artworkData:u(u({},e.artworkData),t)})),setPageCategory:t=>e(e=>d(u({},e),{pageCategory:t})),setUnderMainViewBackgroundImage:t=>e(e=>d(u({},e),{underMainBackgroundImage:t})),setIsCustomControls:t=>e(e=>d(u({},e),{isCustomControls:t})),setIsLightMode:t=>e(e=>d(u({},e),{isLightMode:t})),setRootStyle:t=>e(e=>d(u({},e),{rootStyle:t}))})),pe={},y=a=>e=>{try{let t=a(e);return t instanceof Promise?t:{then(e){return y(e)(t)},catch(e){return this}}}catch(t){return{then(e){return this},catch(e){return y(e)(t)}}}},fe=(p,f)=>(a,r,e)=>{let l={storage:((e,a)=>{let r;try{r=e()}catch(e){return}return{getItem:e=>{var t=e=>null===e?null:JSON.parse(e,null==a?void 0:a.reviver),e=null!=(e=r.getItem(e))?e:null;return e instanceof Promise?e.then(t):t(e)},setItem:(e,t)=>r.setItem(e,JSON.stringify(t,null==a?void 0:a.replacer)),removeItem:e=>r.removeItem(e)}})(()=>localStorage),partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...f},n=!1,o=new Set,i=new Set,s=l.storage;if(!s)return p((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...e)},r,e);let c=()=>{var e=l.partialize({...r()});return s.setItem(l.name,{state:e,version:l.version})},u=e.setState,d=(e.setState=(e,t)=>{u(e,t),c()},p((...e)=>{a(...e),c()},r,e));e.getInitialState=()=>d;let m,t=()=>{var e;if(s){n=!1,o.forEach(e=>e(null!=(e=r())?e:d));let t=(null==(e=l.onRehydrateStorage)?void 0:e.call(l,null!=(e=r())?e:d))||void 0;return y(s.getItem.bind(s))(l.name).then(e=>{if(e){if("number"!=typeof e.version||e.version===l.version)return[!1,e.state];if(l.migrate)return[!0,l.migrate(e.state,e.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]}).then(e=>{var[e,t]=e;if(m=l.merge(t,null!=(t=r())?t:d),a(m,!0),e)return c()}).then(()=>{null!=t&&t(m,void 0),m=r(),n=!0,i.forEach(e=>e(m))}).catch(e=>{null!=t&&t(void 0,e)})}};return e.persist={setOptions:e=>{l={...l,...e},e.storage&&(s=e.storage)},clearStorage:()=>{null!=s&&s.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>t(),hasHydrated:()=>n,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(i.add(e),()=>{i.delete(e)})},l.skipHydration||t(),m||d},ge={backgroundMode:"static",backgroundStyles:{solid:{opacity:1,backgroundColor:"var(--spice-main)"},static:{blur:32,opacity:1,saturation:1.1,contrast:1.2,brightness:.6,backgroundColor:"var(--spice-main)"},animated:{blur:32,time:45,opacity:1,saturation:1.1,contrast:1.2,brightness:.6,backgroundColor:"var(--spice-main)"}},grainEffect:"stary",isDynamicColor:!1,isScrollMode:!0,isCustomBackground:!1,customBackgroundURL:"",playlistImageMode:"inherit",playbarMode:"default",playbarStyles:{compact:{opacity:1,saturation:1.1,contrast:1.2,brightness:.8,borderRadius:8,backdropBlur:32,paddingX:6,backgroundColor:"rgba(var(--spice-rgb-card), 0.5)"},default:{opacity:1,paddingX:6,saturation:1.1,contrast:1.2,borderRadius:8,brightness:.8,backdropBlur:32,backgroundColor:"rgba(var(--spice-rgb-card), 0.5)"}},fontSettings:{title:{fontFamily:"Poppins",url:""},body:{fontFamily:"Poppins",url:""}},playlistViewMode:"card"},p=ne(((e,t)=>{var f,g;return"getStorage"in t||"serialize"in t||"deserialize"in t?("production"!==(pe.env?pe.env.MODE:void 0)&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),f=e,g=t,(a,r,e)=>{let l={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:e=>e,version:0,merge:(e,t)=>({...t,...e}),...g},n=!1,o=new Set,i=new Set,s;try{s=l.getStorage()}catch(e){}if(!s)return f((...e)=>{console.warn(`[zustand persist middleware] Unable to update item '${l.name}', the given storage is currently unavailable.`),a(...e)},r,e);let c=y(l.serialize),u=()=>{var e=l.partialize({...r()});let t;e=c({state:e,version:l.version}).then(e=>s.setItem(l.name,e)).catch(e=>{t=e});if(t)throw t;return e},d=e.setState,m=(e.setState=(e,t)=>{d(e,t),u()},f((...e)=>{a(...e),u()},r,e)),p,t=()=>{var e;if(s){n=!1,o.forEach(e=>e(r()));let t=(null==(e=l.onRehydrateStorage)?void 0:e.call(l,r()))||void 0;return y(s.getItem.bind(s))(l.name).then(e=>{if(e)return l.deserialize(e)}).then(e=>{if(e)return"number"!=typeof e.version||e.version===l.version?e.state:l.migrate?l.migrate(e.state,e.version):void console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}).then(e=>(p=l.merge(e,null!=(e=r())?e:m),a(p,!0),u())).then(()=>{null!=t&&t(p,void 0),n=!0,i.forEach(e=>e(p))}).catch(e=>{null!=t&&t(void 0,e)})}};return e.persist={setOptions:e=>{l={...l,...e},e.getStorage&&(s=e.getStorage())},clearStorage:()=>{null!=s&&s.removeItem(l.name)},getOptions:()=>l,rehydrate:()=>t(),hasHydrated:()=>n,onHydrate:e=>(o.add(e),()=>{o.delete(e)}),onFinishHydration:e=>(i.add(e),()=>{i.delete(e)})},t(),p||m}):fe(e,t)})(l=>d(u({},ge),{updateFontSettings:(t,a,r)=>l(e=>({fontSettings:d(u({},e.fontSettings),{[t]:d(u({},e.fontSettings[t]),{[a]:r})})})),setIsScrollMode:e=>l(()=>({isScrollMode:e})),setIsCustomBackground:e=>l(()=>({isCustomBackground:e})),setCustomBackgroundURL(e){l(()=>({customBackgroundURL:e}))},setBackgroundMode:e=>l(()=>({backgroundMode:e})),setFontSettings:e=>l(()=>({fontSettings:e})),setGrainEffect:e=>l(()=>({grainEffect:e})),setPlaylistImageMode:e=>l(()=>({playlistImageMode:e})),setPlaybarMode:e=>l(()=>({playbarMode:e})),setPlaylistViewMode:e=>l(()=>({playlistViewMode:e})),setDynamicColor:e=>l(()=>({isDynamicColor:e})),updateBackgroundStyles:(t,a,r)=>{l(e=>d(u({},e),{backgroundStyles:d(u({},e.backgroundStyles),{[t]:d(u({},e.backgroundStyles[t]),{[a]:r})})}))},updatePlaybarStyles:(t,a,r)=>{l(e=>d(u({},e),{playbarStyles:d(u({},e.playbarStyles),{[t]:d(u({},e.playbarStyles[t]),{[a]:r})})}))},resetSettings:()=>{l(ge)}}),{name:"lucid-settings"})),ye=()=>{var{customBackgroundURL:e,isCustomBackground:t}=p(),a=m().artworkData,t=t?e||"":(null==a?void 0:a.nowPlayingArtURL)||"";return te.default.createElement("div",{className:"static-background",style:{backgroundImage:`url(${t})`}})},i=e(r()),ve=()=>i.default.createElement("div",{className:"animated-background-container"},i.default.createElement("div",{className:"back"}),i.default.createElement("div",{className:"backleft"}),i.default.createElement("div",{className:"backright"}),i.default.createElement("div",{className:"front"})),be=e(r()),he=()=>be.default.createElement("div",{className:"solid-background"}),Ee=l.default.memo(()=>{let{backgroundMode:t,backgroundStyles:a}=p(),[e,r]=l.default.useState({});return l.default.useEffect(()=>{var e;r({"--background-color":null==(e=a[t])?void 0:e.backgroundColor,"--opacity":null==(e=a[t])?void 0:e.opacity,"--brightness":null==(e=a[t])?void 0:e.brightness,"--contrast":null==(e=a[t])?void 0:e.contrast,"--time":`${(null==(e=a[t])?void 0:e.time)||0}s`,"--blur":`${(null==(e=a[t])?void 0:e.blur)||0}px`,"--saturation":null==(e=a[t])?void 0:e.saturation,"--backdrop-blur":`${(null==(e=a[t])?void 0:e.backdropBlur)||0}px`})},[t,a]),l.default.createElement("div",{className:"background-wrapper",style:e},"animated"===t&&l.default.createElement(ve,null),"static"===t&&l.default.createElement(ye,null),"solid"===t&&l.default.createElement(he,null))}),s=e(r()),we=e(r()),Se=({cb:t})=>(we.default.useEffect(()=>{let e=new Spicetify.Menu.Item("Lucid Settings",!1,()=>t(),'<svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12.012 2.25c.734.008 1.465.093 2.182.253a.75.75 0 0 1 .582.649l.17 1.527a1.384 1.384 0 0 0 1.927 1.116l1.401-.615a.75.75 0 0 1 .85.174 9.792 9.792 0 0 1 2.204 3.792.75.75 0 0 1-.271.825l-1.242.916a1.381 1.381 0 0 0 0 2.226l1.243.915a.75.75 0 0 1 .272.826 9.797 9.797 0 0 1-2.204 3.792.75.75 0 0 1-.848.175l-1.407-.617a1.38 1.38 0 0 0-1.926 1.114l-.169 1.526a.75.75 0 0 1-.572.647 9.518 9.518 0 0 1-4.406 0 .75.75 0 0 1-.572-.647l-.168-1.524a1.382 1.382 0 0 0-1.926-1.11l-1.406.616a.75.75 0 0 1-.849-.175 9.798 9.798 0 0 1-2.204-3.796.75.75 0 0 1 .272-.826l1.243-.916a1.38 1.38 0 0 0 0-2.226l-1.243-.914a.75.75 0 0 1-.271-.826 9.793 9.793 0 0 1 2.204-3.792.75.75 0 0 1 .85-.174l1.4.615a1.387 1.387 0 0 0 1.93-1.118l.17-1.526a.75.75 0 0 1 .583-.65c.717-.159 1.45-.243 2.201-.252Zm0 1.5a9.135 9.135 0 0 0-1.354.117l-.109.977A2.886 2.886 0 0 1 6.525 7.17l-.898-.394a8.293 8.293 0 0 0-1.348 2.317l.798.587a2.881 2.881 0 0 1 0 4.643l-.799.588c.32.842.776 1.626 1.348 2.322l.905-.397a2.882 2.882 0 0 1 4.017 2.318l.11.984c.889.15 1.798.15 2.687 0l.11-.984a2.881 2.881 0 0 1 4.018-2.322l.905.396a8.296 8.296 0 0 0 1.347-2.318l-.798-.588a2.881 2.881 0 0 1 0-4.643l.796-.587a8.293 8.293 0 0 0-1.348-2.317l-.896.393a2.884 2.884 0 0 1-4.023-2.324l-.11-.976a8.988 8.988 0 0 0-1.333-.117ZM12 8.25a3.75 3.75 0 1 1 0 7.5 3.75 3.75 0 0 1 0-7.5Zm0 1.5a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Z" fill="#fff"/></svg>');return e.register(),()=>{e.deregister()}},[t]),null),c=e(r()),f=e(r()),ke=f.default.memo(({title:e,children:t,headingChild:a,onClose:r,isOpen:l=!1})=>l?f.default.createElement("div",{className:"modal-container"},f.default.createElement("div",{className:"modal-overlay "+(l&&"open"),style:{zIndex:20},onClick:r}),f.default.createElement("div",{className:"modal-section "+(l&&"open"),role:"dialog","aria-label":e,"aria-modal":"true"},f.default.createElement("div",{className:"main-embedWidgetGenerator-container"},f.default.createElement("div",{className:"main-trackCreditsModal-header"},f.default.createElement("h1",{className:"main-type-alto"},e),a&&f.default.createElement("div",null,a),f.default.createElement("button",{type:"button","aria-label":"Close",className:"main-trackCreditsModal-closeBtn",onClick:()=>r()},f.default.createElement("svg",{width:"18",height:"18",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},f.default.createElement("title",null,"Close"),f.default.createElement("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:"currentColor","fill-rule":"evenodd"})))),f.default.createElement("div",{className:"modal-contents"},f.default.createElement("main",{className:"modal-wrapper"},t))))):null),g=e(r()),_e=e(r()),Le=({children:e})=>_e.default.createElement(_e.default.Fragment,null,_e.default.createElement("div",{className:"cards-wrapper"},e)),xe=({title:e,description:t,children:a})=>g.default.createElement("div",{className:"setting-section"},g.default.createElement("div",{className:"heading-wrapper"},g.default.createElement("h3",{className:"title"},e),t&&g.default.createElement("p",{className:"description"},t)),g.default.createElement(Le,null,a)),v=e(r()),b=e(r()),h=({options:e,selectedValue:a,onSelect:r,label:t})=>{let[l,n]=b.default.useState(!1),o=b.default.useRef(null);var i=b.default.useRef(null);b.default.useEffect(()=>{let e=e=>{o.current&&!o.current.contains(e.target)&&n(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);return b.default.createElement("div",{className:"dropdown-container",ref:o},b.default.createElement("button",{className:"dropdown-button "+(l&&"open"),onClick:()=>{n(!l)},"aria-haspopup":"listbox","aria-expanded":l,"aria-label":"Toggle dropdown menu",type:"button"},t||a,b.default.createElement("span",{className:"dropdown-arrow"},b.default.createElement("svg",{role:"img","aria-labelledby":"title",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},b.default.createElement("span",{id:"title"},"Down"),b.default.createElement("path",{d:"M4.293 8.293a1 1 0 0 1 1.414 0L12 14.586l6.293-6.293a1 1 0 1 1 1.414 1.414l-7 7a1 1 0 0 1-1.414 0l-7-7a1 1 0 0 1 0-1.414Z",fill:"#ffffff"})))),l&&b.default.createElement("ul",{className:"dropdown-menu","aria-label":"Dropdown menu",ref:i},e.map(t=>b.default.createElement("li",{key:t.value,onClick:()=>{return e=t.value,r(e),void n(!1);var e},className:a===t.value?"dropdown-item selected":"dropdown-item","aria-selected":a===t.value,tabIndex:-1},t.label))))},E=e(r()),w=({title:e,tooltip:t,selectedValue:a,children:r})=>E.default.createElement("div",{className:"card"},E.default.createElement("div",{className:"title-container"},E.default.createElement("div",{className:"title-wrapper"},e&&E.default.createElement("h5",{className:"title"},e),t&&E.default.createElement("div",{className:"tooltip-container"},E.default.createElement("div",{className:"tooltip"},E.default.createElement("span",{className:"tooltip-icon"},E.default.createElement("svg",{role:"img","aria-label":"Tooltip icon",width:"24",height:"24",fill:"none",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},E.default.createElement("path",{d:"M12 2c5.523 0 10 4.478 10 10s-4.477 10-10 10S2 17.522 2 12 6.477 2 12 2Zm0 1.667c-4.595 0-8.333 3.738-8.333 8.333 0 4.595 3.738 8.333 8.333 8.333 4.595 0 8.333-3.738 8.333-8.333 0-4.595-3.738-8.333-8.333-8.333ZM12 15.5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Zm0-8.75a2.75 2.75 0 0 1 2.75 2.75c0 1.01-.297 1.574-1.051 2.359l-.169.171c-.622.622-.78.886-.78 1.47a.75.75 0 0 1-1.5 0c0-1.01.297-1.574 1.051-2.359l.169-.171c.622-.622.78-.886.78-1.47a1.25 1.25 0 0 0-2.493-.128l-.007.128a.75.75 0 0 1-1.5 0A2.75 2.75 0 0 1 12 6.75Z",fill:"currentColor"}))),E.default.createElement("span",{className:"tooltip-content"},t)))),a&&E.default.createElement("p",{className:"selected-value"},"Selected: ",a)),E.default.createElement("div",{className:"children-wrapper"},r)),Ce=e(r()),Re=({onChange:e,currentValue:t})=>Ce.default.createElement("div",{className:"slider-wrapper"},Ce.default.createElement("label",{className:"switch"},Ce.default.createElement("input",{type:"checkbox",checked:t,onChange:()=>{e(!t)}}),Ce.default.createElement("span",{className:"slider round"}))),Oe=e=>{try{return new URL(e),!0}catch(e){return!1}},Pe=e=>decodeURIComponent((null==(e=null==(e=e.match(/family=([^&:]+)/))?void 0:e[1])?void 0:e.replace(/\+/g," "))||"")||"",S=e(r()),Me=S.default.memo(({name:e,step:t,type:a,value:r,placeholder:l,onChange:n,isURL:o=!1,expectURL:i=!1})=>{let[s,c]=(0,S.useState)(null);return S.default.createElement("div",{className:"custom-input-container"},s&&S.default.createElement("span",{className:"error-message"},s),S.default.createElement("input",{type:a,name:e,step:t,placeholder:l,value:void 0!==r?null==r?void 0:r.toString():"",className:"input "+(o?"url":null),onChange:e=>{var t=e.target.value;(o||i)&&(t&&!Oe(t)?c("Please enter a valid URL."):c(null)),n(e)}}))}),Ie=v.default.memo(()=>{let{backgroundMode:a,isDynamicColor:e,setDynamicColor:t,customBackgroundURL:r,setCustomBackgroundURL:l,backgroundStyles:n,setBackgroundMode:o,updateBackgroundStyles:i,isCustomBackground:s,setIsCustomBackground:c}=p();var u=(0,v.useMemo)(()=>[{label:"Animated",value:"animated"},{label:"Static",value:"static"},{label:"Solid",value:"solid"}],[]);return v.default.createElement(v.default.Fragment,null,v.default.createElement(w,{title:"Set Background",selectedValue:(()=>{switch(a){case"animated":return"Animated Background";case"static":return"Static Background";case"solid":return"Solid Background";default:return}})()},v.default.createElement(h,{options:u,selectedValue:a,onSelect:e=>{o(e)},label:"Select an option"})),n[a]&&Object.entries(n[a]).map(([t,e])=>v.default.createElement(w,{key:t,title:"Set "+("backgroundColor"===t?"background color":"backdropBlur"===t?"backdrop blur":"borderRadius"===t?"border radius":t)},v.default.createElement(Me,{type:"backgroundColor"===t?"text":"number",name:t,step:.01,value:e,onChange:e=>((e,t)=>{e=e.target.value.trim();i(a,t,e)})(e,t)}))),"static"===a&&v.default.createElement(Le,null,v.default.createElement(w,{title:"Set Static Background URL"},v.default.createElement(Re,{currentValue:s,onChange:e=>c(e)})),s&&v.default.createElement(w,{title:"Enter your custom url"},v.default.createElement(Me,{name:"Custom Url",onChange:e=>{e=e.target.value;l(e)},placeholder:"Enter custom url here",type:"text",value:r,isURL:!0}))),v.default.createElement(w,{title:"Dynamic Color (Experimental)"},v.default.createElement(Re,{currentValue:e,onChange:e=>t(e)})))}),Ne=e(r()),Ae=()=>{let e=p().resetSettings;return Ne.default.createElement(w,{title:"Reset to Default"},Ne.default.createElement("button",{type:"button",className:"button reset-button",onClick:()=>{window.confirm("Are you sure you want to reset all settings to their default values? This action cannot be undone.")&&e()}},"Reset"))},k=e(r()),Ue=e(r()),Be=({fontFamily:e,fontUrl:t,onFontChange:a})=>{let[r,l]=Ue.default.useState(t||e);return Ue.default.createElement("div",null,Ue.default.createElement(Me,{name:"Font Family",onChange:e=>{l(e.target.value),a(e.target.value)},placeholder:"Enter Font Family Name or Google Fonts link",type:"text",value:r}))},_=e(r()),De=()=>_.default.createElement("div",null,_.default.createElement("div",null,_.default.createElement("img",{width:"12rem",height:"15rem",src:"https://sanooj.is-a.dev/Spicetify-Lucid/assets/tooltip/font-url.png",alt:"google font url img",style:{width:"12rem",height:"15rem",borderRadius:"4px"}})),_.default.createElement("div",null,_.default.createElement("h4",null,"Usage:"),_.default.createElement("li",null,"Font Name (If Installed)"),_.default.createElement("li",null,"URL (Google Fonts)"))),$e=()=>{let{fontSettings:a,updateFontSettings:n}=p();return k.default.createElement(k.default.Fragment,null,["title","body"].map(l=>{var{fontFamily:e,url:t}=a[l];return k.default.createElement(w,{key:l,title:`${"title"===l?"Title":"Body"} Font Family`,selectedValue:e||"Default Font (Spotify Mix)",tooltip:k.default.createElement(De,null)},k.default.createElement(Be,{fontFamily:e,fontUrl:t,onFontChange:e=>{return t=l,a=Oe(e=e),r=a?Pe(e):e,n(t,"fontFamily",r),void n(t,"url",a?e:"");var t,a,r}}))}))},L=e(r()),Te=()=>{let{playlistViewMode:e,playlistImageMode:t,setPlaylistViewMode:a,setPlaylistImageMode:r,isScrollMode:l,setIsScrollMode:n}=p();return L.default.createElement(L.default.Fragment,null,L.default.createElement(w,{title:"Set View Mode",selectedValue:e},L.default.createElement(h,{options:[{label:"Default",value:"default"},{label:"Compact",value:"compact"},{label:"Card",value:"card"}],onSelect:e=>{a(e)},selectedValue:e})),L.default.createElement(w,{title:"Set Background Image",selectedValue:t},L.default.createElement(h,{options:[{label:"None",value:"none"},{label:"Playlist Art Image",value:"inherit"},{label:"Now Playing",value:"now-playing"}],onSelect:e=>{r(e)},selectedValue:t})),L.default.createElement(w,{title:"Scroll Background Image"},L.default.createElement(Re,{currentValue:l,onChange:n})))},je=e(r()),Ve=[{label:"Stary",value:"stary"},{label:"Default",value:"default"},{label:"None",value:"none"}],ze=()=>{let{grainEffect:e,setGrainEffect:t}=p();return je.default.createElement(w,{title:"Set Grains",selectedValue:e},je.default.createElement(h,{options:Ve,onSelect:e=>{t(e)},selectedValue:e}))},x=e(r()),Fe=()=>{let{playbarMode:a,setPlaybarMode:t,playbarStyles:e,updatePlaybarStyles:r}=p();return x.default.createElement(x.default.Fragment,null,x.default.createElement(w,{title:"Set Playbar Mode",selectedValue:a},x.default.createElement(h,{options:[{label:"Compact",value:"compact"},{label:"Default",value:"default"}],onSelect:e=>{t(e)},selectedValue:a})),Object.entries(e[a]||{}).map(([t,e])=>x.default.createElement(w,{key:t,title:"Set "+(e=>{switch(e){case"backgroundColor":return"background color";case"backdropBlur":return"backdrop blur";case"borderRadius":return"border radius";default:return e}})(t)},x.default.createElement(Me,{type:"backgroundColor"===t?"text":"number",name:t,step:.01,value:e,onChange:e=>((e,t)=>{e=e.target.value.trim();r(a,t,e)})(e,t)}))))},He=c.default.memo(()=>{let e=c.default.useMemo(()=>[{key:"background",title:"Background",description:"Customize your theme's background.",content:c.default.createElement(Ie,null)},{key:"grains",title:"Grains",description:"Set your grain texture.",content:c.default.createElement(ze,null)},{key:"playlistView",title:"Playlist View",description:"Configure your playlist view.",content:c.default.createElement(Te,null)},{key:"playbar",title:"Playbar",description:"Configure your playbar.",content:c.default.createElement(Fe,null)},{key:"font",title:"Font",description:"Select your desired font.",content:c.default.createElement($e,null)},{key:"reset",title:"Reset Settings",description:"Reset to default settings.",content:c.default.createElement(Ae,null)}],[]),[t,a]=c.default.useState("all");var{isOpen:r,closeModal:l}=ee("settings");let n=e=>{a(e)};return c.default.createElement(ke,{title:"Lucid Settings",onClose:l,isOpen:r},c.default.createElement("div",{className:"settings-navigation-container"},c.default.createElement("div",{className:"navigation"},c.default.createElement("button",{type:"button",onClick:()=>n("all"),className:"all"===t?"active":""},"All"),e.map(e=>c.default.createElement("button",{type:"button",key:e.key,onClick:()=>n(e.key),className:t===e.key?"active":""},e.title)))),c.default.createElement("div",{className:"sections-container"},("all"===t?e:e.filter(e=>e.key===t)).map(e=>c.default.createElement("div",{className:"section-wrapper",key:e.key,id:e.key},c.default.createElement(xe,{title:e.title,description:e.description},e.content)))))}),Ge=s.default.memo(()=>{var{isOpen:e,openModal:t}=ee("settings");return s.default.createElement(s.default.Fragment,null,s.default.createElement(Se,{cb:t}),e&&s.default.createElement(He,null))}),C=e(r()),qe=C.default.memo(()=>{let{playlistViewMode:t,playlistImageMode:a,isScrollMode:r}=p(),{pageCategory:l,underMainBackgroundImage:n}=m(),o=C.default.useRef(null),i=C.default.useRef(null),s=(C.default.useEffect(()=>{let e=document.body.classList;return e.add("playlist-art-image-"+a,"playlist-view-"+t),()=>{e.remove("playlist-view-"+t,"playlist-art-image-"+a)}},[t,a]),C.default.useCallback(e=>{var t,a;o.current&&i.current&&(t=.03*(e=Math.min(e.scrollTop,window.innerHeight))+("playlist"!==l&&"show"!==l||n?0:4),a=r?"":`brightness(${1-e/window.innerHeight*.5})`,i.current.style.filter=`blur(${t}px) `+a,i.current.style.transform=`scale(${1+e/window.innerHeight*.5})`,o.current.style.transform=`translateY(${r?-e:0}px)`)},[r,l,n]));return C.default.useEffect(()=>{let t=document.querySelector(".Root__main-view .os-viewport, .Root__main-view .main-view-container > .main-view-container__scroll-node:not([data-overlayscrollbars-initialize]), .Root__main-view .main-view-container__scroll-node > [data-overlayscrollbars-viewport]");if(t){let e=()=>s(t);return e(),t.addEventListener("scroll",e,{passive:!0}),()=>{t.removeEventListener("scroll",e)}}},[s]),C.default.createElement("span",{id:"playlistArtContainer",className:`playlist-art-container ${t} `+a,"data-playlistviewmode":t,ref:o},C.default.createElement("div",{className:"background",ref:i}),C.default.createElement("div",{className:"overlay",style:{height:"100%",width:"100%",position:"absolute",top:0,left:0,backgroundColor:"transparent"}}))}),We=e(r()),Ke=We.default.memo(()=>{let l=p().fontSettings,n=We.default.useCallback((e,t)=>{document.documentElement.style.setProperty(`--${e}-font-to-use`,t)},[]),t=We.default.useCallback(e=>{var t,{url:a,fontFamily:r}=l[e];Oe(a)?(t=Pe(a),((e,t)=>{let a=document.getElementById(t);a||((a=document.createElement("link")).rel="stylesheet",a.id=t,document.head.appendChild(a)),a.href=e})(a,e+"-font"),n(e,t)):n(e,r)},[l,n]);return We.default.useEffect(()=>{for(var e of Object.keys(l))t(e)},[l,t]),null}),Ze=e(r()),Je=()=>{let e=p().grainEffect;return Ze.default.useEffect(()=>(document.body.classList.add("grain-"+e),()=>{document.body.classList.remove("grain-"+e)}),[e]),Ze.default.createElement("div",{id:"grainEffect","data-grainEffect":e})},Xe=e(r()),Ye=console.log,Qe={prefix:"font-weight: bold; color: #4DB6AC; font-size: 0.85rem;",error:"color: #dc3545;",warn:"color: #ffc107;"},R=(e,t={},...a)=>{var{level:t="info",styles:r=""}=t;let l=r;switch(t){case"error":l=Qe.error+" "+r;break;case"warn":l=Qe.warn+" "+r}Ye("%c[Lucid] %c"+e,Qe.prefix,l,...a)},et=()=>{let[e,a]=Xe.default.useState({}),{playbarMode:r,playbarStyles:l}=p();return Xe.default.useEffect(()=>(document.body.classList.add("playbar-"+r),()=>{document.body.classList.remove("playbar-"+r)}),[r]),Xe.default.useEffect(()=>{var e={"--background-color":null==(e=l[r])?void 0:e.backgroundColor,"--opacity":null==(e=l[r])?void 0:e.opacity,"--brightness":null==(e=l[r])?void 0:e.brightness,"--contrast":null==(e=l[r])?void 0:e.contrast,"--padding-x":`${(null==(e=l[r])?void 0:e.paddingX)||0}px`,"--padding-y":`${(null==(e=l[r])?void 0:e.paddingY)||0}px`,"--time":`${(null==(e=l[r])?void 0:e.time)||0}s`,"--blur":`${(null==(e=l[r])?void 0:e.blur)||0}px`,"--border-radius":`${(null==(e=l[r])?void 0:e.borderRadius)||8}px`,"--saturation":null==(e=l[r])?void 0:e.saturation,"--backdrop-blur":`${(null==(e=l[r])?void 0:e.backdropBlur)||0}px`},t=(a(e),document.querySelector(".Root__now-playing-bar"));t?t.style.cssText=Object.entries(e).map(([e,t])=>e+`: ${t};`).join(" "):R("Playbar element not found!",{level:"error"})},[r,l]),Xe.default.createElement("div",{id:"playbar-styles",style:e})},tt=e(r()),at=()=>{let{underMainBackgroundImage:t,setUnderMainViewBackgroundImage:a,rootStyle:e}=m(),r=tt.default.useCallback(e=>{var e=e.reduce((e,t)=>e||("childList"===t.type&&0<t.addedNodes.length&&t.addedNodes[0].firstChild instanceof HTMLDivElement?t.addedNodes[0].firstChild:null),null);null!=e&&e.style?(e=e.style.backgroundImage.replace(/url\(['"]?([^'"]*)['"]?\)/i,"$1"),a(e)):null!==t&&a(null)},[a,t]);return tt.default.useEffect(()=>{let e=new MutationObserver(r);var t=document.querySelector(".under-main-view");return t&&e.observe(t,{childList:!0}),()=>e.disconnect()},[r]),tt.default.useEffect(()=>{t?e.setProperty("--under-main-view-art-image",`url(${t})`):e.removeProperty("--under-main-view-art-image")},[t,e]),null},O=e(r()),rt=async e=>{let t=0;for(;t<=3;)try{var a=await Spicetify.GraphQL.Request({name:"queryArtistOverview",operation:"query",sha256Hash:"35648a112beb1794e39ab931365f6ae4a8d45e65396d641eeda94e4003d41497",value:null},{uri:e,includePrerelease:!0,locale:null});if(a)return a}catch(e){if(!(e instanceof Error&&e.message.includes("DUPLICATE_REQUEST_ERROR")&&t<3))throw console.error("Error fetching artist metadata:",e),e;t++,R(`Duplicate request detected (getArtistMetaData). Retrying in 1 second... (Attempt ${t})`,{level:"warn"}),await new Promise(e=>setTimeout(e,1e3))}},lt=async e=>{let t=0;for(;t<=3;)try{var a=await Spicetify.GraphQL.Request({name:"getAlbum",operation:"query",sha256Hash:"469874edcad37b7a379d4f22f0083a49ea3d6ae097916120d9bbe3e36ca79e9d",value:null},{uri:e,locale:null,offset:0,limit:50});if(a)return a}catch(e){if(!(e instanceof Error&&e.message.includes("DUPLICATE_REQUEST_ERROR")&&t<3))throw console.error("Error fetching album metadata:",e),e;t++,R(`Duplicate request detected (getAlbumMetaData). Retrying in 1 second... (Attempt ${t})`,{level:"warn"}),await new Promise(e=>setTimeout(e,1e3))}},nt=()=>{let{pageCategory:e,rootStyle:c,artworkData:u,updateArtworkData:d}=m(),t=p().playlistImageMode,a=O.default.useCallback(async()=>{c.setProperty("--artwork-opacity","0");try{var e,t=Spicetify.Platform.History.location.pathname,a=(r=t,l=Spicetify.URI.isPlaylistV1OrV2(r),n=Spicetify.URI.isArtist(r),o=Spicetify.URI.isAlbum(r),i=Spicetify.URI.isShow(r),s=Spicetify.URI.isProfile(r),l||n||o||s||i?(s=null==(s=r.match(/\/(?:playlist|artist|album|user|show)\/([^/]+)/))?void 0:s[1])?`spotify:${l?"playlist":n?"artist":o?"album":i?"show":"user"}:`+s:(console.warn("No ID found in pathname:",r),null):null);a?u.currentPageURI!==a&&(e=await(async e=>{var t,a,r,l,n,o,i,s,c,u,d,m,p,f,g,y,v=e.split(":")[1];try{switch(v){case"playlist":case"show":return(null==(t=(await Spicetify.Platform.PlaylistAPI.getMetadata(e)).images.find(e=>e.url))?void 0:t.url)||null;case"artist":var b=await rt(e);return(null==(n=null==(l=null==(r=null==(a=b.data)?void 0:a.artistUnion.visuals.headerImage)?void 0:r.sources)?void 0:l[0])?void 0:n.url)||(null==(c=null==(s=null==(i=null==(o=b.data)?void 0:o.artistUnion.visuals.avatarImage)?void 0:i.sources)?void 0:s[0])?void 0:c.url)||null;case"album":var h=await lt(e);return(null==(m=null==(d=null==(u=h.data)?void 0:u.albumUnion.coverArt.sources)?void 0:d[2])?void 0:m.url)||(null==(g=null==(f=null==(p=h.data)?void 0:p.albumUnion.coverArt.sources)?void 0:f[0])?void 0:g.url)||null;case"user":var E=await Spicetify.Platform.RequestBuilder.build().withHost("https://spclient.wg.spotify.com/user-profile-view/v3").withPath("/profile/"+e.split(":")[2]).send();return(null==(y=null==E?void 0:E.body)?void 0:y.image_url)||null;default:return null}}catch(e){return R(`Error fetching artwork for ${v}:`,{level:"error"},e),null}})(a)||"",d({currentPageArtURL:e,currentPageURI:a})):d({currentPageArtURL:"",currentPageURI:""})}catch(e){console.error("Error updating artwork:",e),d({currentPageArtURL:"",currentPageURI:""})}finally{c.setProperty("--artwork-opacity","1")}var r,l,n,o,i,s},[u.currentPageURI,c,d]);return O.default.useEffect(()=>{if("inherit"===t){let e=Spicetify.Platform.History.listen(a);return a(),()=>{e()}}},[t,a]),O.default.useEffect(()=>{u.currentPageArtURL?(c.setProperty("--playlist-art-image",`url(${u.currentPageArtURL})`),R("Updated Playlist Artwork URL to "+u.currentPageArtURL,{level:"info"})):u.currentPageURI&&"other"!==e&&(R("No artwork URL found for URI: "+u.currentPageURI,{level:"warn"}),c.setProperty("--playlist-art-image","none"))},[u.currentPageArtURL,u.currentPageURI,e,c]),O.default.useEffect(()=>{u.nowPlayingArtURL&&(c.setProperty("--now-playing-art-image",`url(${u.nowPlayingArtURL})`),R("Updated Now Playing Art View: "+u.nowPlayingArtURL,{level:"info"}))},[u.nowPlayingArtURL,c]),O.default.useEffect(()=>{let e=async()=>{var e=await(async()=>{for(var e;null==(e=null==Spicetify?void 0:Spicetify.Player)||!e.data;)await new Promise(e=>setTimeout(e,100));try{return Spicetify.Player.data.item.metadata.image_xlarge_url||Spicetify.Player.data.item.metadata.image_large_url||Spicetify.Player.data.item.metadata.image_url||Spicetify.Player.data.item.metadata.image_small_url||""}catch(e){R("Error updating getting URL: "+e,{level:"error"})}})();d({nowPlayingArtURL:e})};return e(),Spicetify.Player.addEventListener("songchange",e),()=>{Spicetify.Player.removeEventListener("songchange",e)}},[d]),null},P=e(r()),ot=(e,t,a=1,r=0,l=Number.POSITIVE_INFINITY)=>Math.max(r,Math.min(e*(t+a-1),l)),it=e(r()),st=it.default.memo(()=>{var e=it.default.useRef(null);return it.default.createElement("div",{ref:e,className:"lucid-transperent-window-controls"})}),ct=P.default.memo(()=>{let{isCustomControls:r,rootStyle:l,isWindows:n,isLightMode:o}=m();return P.default.useEffect(()=>{async function e(){if(!r){t=window.innerWidth;var t=window.outerWidth/t*100,e=window.innerWidth/window.outerWidth,t=Math.round(t**.912872807*100/100-3);try{null!=(a=null==Spicetify?void 0:Spicetify.CosmosAsync)&&a.post&&await Spicetify.CosmosAsync.post("sp://messages/v1/container/control",{type:"update_titlebar",height:t}),R(`Control height set to ${t}px`)}catch(e){R("Error setting control height: "+t,{level:"error"})}await 0;var a=ot(64,e,1),t=ot(135,e,1);l.setProperty("--top-bar-padding-start",a+"px"),l.setProperty("--top-bar-padding-end",t+"px"),!n||r||o||(t=ot(135,e,1),l.setProperty("--control-height","64px"),l.setProperty("--control-width",t+"px"))}var t}return setTimeout(e,1e3),window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[r,l,o,n]),P.default.createElement(P.default.Fragment,null,n?P.default.createElement("div",{id:"transperent-controls-container",className:"transperent-controls-container",style:{containerType:"normal"}},P.default.createElement(st,null)):null)});function ut(e,t){e.innerHTML=`
    #lucid-main .background-container .background-wrapper div { z-index: ${t} !important; }
  `}function dt(e){e.innerHTML=`
    #lucid-main .background-container .background-wrapper div { z-index: -1 !important; }
  `}function mt(t,a,r,l){let n=!1,o=null;new MutationObserver(()=>{var e=t.querySelector(a);e!==o&&(e&&!n?(R("Applying background z-index: "+l),n=!0,ut(r,l)):n&&(R("Removing background z-index: "+l),n=!1,document.querySelector("#lyrics-cinema .lyrics-lyrics-background, #lyrics-cinema .lyrics-lyrics-container")?ut(r,6):dt(r)),o=e)}).observe(t,{childList:!0}),dt(r)}var pt=e(r()),ft=e=>Spicetify.URI.isPlaylistV1OrV2(e)?"playlist":Spicetify.URI.isArtist(e)?"artist":Spicetify.URI.isAlbum(e)?"album":Spicetify.URI.isGenre(e)?"genre":Spicetify.URI.isShow(e)?"show":Spicetify.URI.isProfile(e)?"profile":Spicetify.URI.isConcert(e)||Spicetify.URI.isArtistConcerts(e)?"concert":"other",gt=e(r()),M=e(r()),yt=(e,t,a)=>"#"+(e<<16|t<<8|a).toString(16).padStart(6,"0"),vt=(e,t,a)=>{var[e,t,a]=[e/255,t/255,a/255],[e,t,a]=[e<=.03928?e/12.92:((e+.055)/1.055)**2.4,t<=.03928?t/12.92:((t+.055)/1.055)**2.4,a<=.03928?a/12.92:((a+.055)/1.055)**2.4];return.2126*e+.7152*t+.0722*a},bt=(e,t)=>d(u({},e),{r:Math.max(0,Math.round(e.r*t)),g:Math.max(0,Math.round(e.g*t)),b:Math.max(0,Math.round(e.b*t)),hex:yt(Math.max(0,Math.round(e.r*t)),Math.max(0,Math.round(e.g*t)),Math.max(0,Math.round(e.b*t)))}),I=(e,t)=>d(u({},e),{r:Math.min(255,Math.round(e.r+(255-e.r)*t)),g:Math.min(255,Math.round(e.g+(255-e.g)*t)),b:Math.min(255,Math.round(e.b+(255-e.b)*t)),hex:yt(Math.min(255,Math.round(e.r+(255-e.r)*t)),Math.min(255,Math.round(e.g+(255-e.g)*t)),Math.min(255,Math.round(e.b+(255-e.b)*t)))}),ht=(e,t)=>{e=vt(e.r,e.g,e.b),t=vt(t.r,t.g,t.b);return(Math.max(e,t)+.05)/(Math.min(e,t)+.05)},Et=e(a());async function wt(l){try{var n=await(0,Et.loadImage)(l),o=Math.max(n.width/10,10),i=Math.max(n.height/10,10),s=(0,Et.createCanvas)(o,i).getContext("2d"),c=(s.drawImage(n,0,0,o,i),s.getImageData(0,0,o,i)),u=c.data,d={};let t={};var m=Math.floor(.2*u.length);for(let e=0;e<m;e+=4){var p=u[e],f=u[e+1],g=u[e+2],y=p+`-${f}-`+g;d[y]=(d[y]||0)+1,t[y]={r:p,g:f,b:g,hex:yt(p,f,g)}}var v=Object.entries(d).sort((e,t)=>t[1]-e[1]).map(([e])=>t[e]),b=v[0];let e=v[1],a=v[2],r=2;for(;!e||ht(b,e)<2.5;){if(r>=v.length){e=I(b,.2);break}e=v[r],r++}for(;!a||ht(b,a)<2.5||ht(e,a)<2.5;){if(r>=v.length){a=I(e,.2);break}a=v[r],r++}return{baseColor:h,secondaryColor:E,tertiaryColor:w}=[{baseColor:b,secondaryColor:e,tertiaryColor:a}][0],{main:bt(E,.4),sidebar:bt(E,.5),card:bt(w,.5),player:bt(E,.6),accent:I(h,.4),highlight:I(E,.2),button:I(w,.4),"button-active":I(w,.4),text:I(h,.9),subtext:I(E,.9),primary:h,secondary:E,tertiary:w}}catch(e){return R("Error extracting colors: "+e),e}var h,E,w}var St=null,kt=M.default.memo(()=>{let e=p().isDynamicColor,t=m().artworkData,a=M.default.useRef(null),r=M.default.useRef(null);return M.default.useEffect(()=>(a.current=document.createElement("style"),a.current.id="lucid_dynamic_colors",document.head.appendChild(a.current),()=>{a.current&&document.head.removeChild(a.current)}),[]),M.default.useEffect(()=>{e?e&&t.nowPlayingArtURL!==r.current&&(null!=a&&a.current&&e&&t.nowPlayingArtURL&&(async(r,e,l)=>e&&l?new Promise(a=>{St&&clearTimeout(St),St=setTimeout(async()=>{try{var e,t=await wt(l);t instanceof Error?(R("Error extracting colors: "+t.message),a(null)):(e=`
          :root {
            ${Object.entries(t).map(([e,t])=>`
--spice-${e}: ${t.hex} !important;
--spice-rgb-${e}: ${t.r}, ${t.g}, ${t.b} !important;
`)}
            will-change: 
              --spice-main, 
              --spice-sidebar,
              --spice-card,
              --spice-player,
              --spice-accent,
              --spice-highlight,
              --spice-button,
              --spice-button-active,
              --spice-text,
              --spice-subtext,
              --spice-primary,
              --spice-secondary,
              --spice-tertiary;

            transition: all 0.3s ease-in-out;
          }
        `,r.textContent=e,a(t))}catch(e){R("Error saving colors to style: "+(e instanceof Error?e.message:e),{level:"error"}),a(null)}},200)}):null)(a.current,e,t.nowPlayingArtURL).then(()=>{R("Dynamic colors updated!",{level:"info"})}).catch(e=>{R("Error updating colors:",{level:"error"},e)}),r.current=t.nowPlayingArtURL):(r.current&&(r.current=null),a.current&&(async e=>{e.textContent=`:root{
  will-change: 
    --spice-main, 
    --spice-sidebar,
    --spice-card,
    --spice-player,
    --spice-accent,
    --spice-highlight,
    --spice-button,
    --spice-button-active,
    --spice-text,
    --spice-subtext,
    --spice-primary,
    --spice-secondary,
    --spice-tertiary;

  transition: all 0.2s ease-in-out;
}`})(a.current))},[e,t.nowPlayingArtURL]),M.default.createElement("div",{id:"dynamic-colors"})}),_t=()=>gt.default.createElement(gt.default.Fragment,null,gt.default.createElement(kt,null)),Lt=e(r()),xt=e=>{var t=document.querySelector(".Root");t&&t.classList.add(e?"global-nav":"control-nav")},N=e(r()),A=e(r()),Ct=({releases:e,isLoading:t,error:a})=>t?A.default.createElement("div",null,"Loading release data..."):a?A.default.createElement("div",null,"Error fetching release data: ",a.message):e?A.default.createElement("div",{className:"lucid-changelog",id:"lucid-changelog"},e.map(e=>A.default.createElement("div",{key:e.tag_name,className:"release"},A.default.createElement("button",{className:"release-button",type:"button",onClick:()=>window.open(e.html_url,"_blank")},"View on GitHub"),e.body&&A.default.createElement("div",{className:"release-content",dangerouslySetInnerHTML:{__html:e.body}})))):A.default.createElement("div",null,"No release data found."),Rt=e(r()),Ot=({currentVersion:e})=>{let[t,l]=N.default.useState({isLoading:!0,error:null,releases:null}),[n,a]=((t,a)=>{let[e,r]=Rt.default.useState(()=>{var e;return"undefined"!=typeof window&&(e=window.localStorage.getItem(t))?JSON.parse(e):a});return Rt.default.useEffect(()=>{"undefined"!=typeof window&&window.localStorage.setItem(t,JSON.stringify(e))},[t,e]),[e,r]})("lucid:previousVersion",null),{closeModal:r,isOpen:o,openModal:i}=ee("changelog"),s=async()=>{R("Fetching release data..."),l(e=>d(u({},e),{isLoading:!0}));try{var e=await fetch("https://api.github.com/repos/sanoojes/spicetify-lucid/releases");if(!e.ok)throw new Error("HTTP error! status: "+e.status);var t=await e.json(),a=(R("Fetched release data:",{level:"info"},t),await Promise.all(t.map(async e=>d(u({},e),{body:await(async(e,t,a)=>{try{var r={text:e,context:t+"/"+a,mode:"gfm"},l=await fetch("https://api.github.com/markdown",{method:"POST",body:JSON.stringify(r)});if(l.ok)return await l.text();throw new Error("HTTP error! status: "+l.status)}catch(e){return console.error("Error parsing markdown:",e),null}})(e.body,"sanoojes","spicetify-lucid")||""})))),r=(l({isLoading:!1,error:null,releases:a}),t[0].tag_name);null!==n&&r===n||(console.log("Opening changelog modal because new version detected"),i())}catch(t){l(e=>d(u({},e),{isLoading:!1,error:t instanceof Error?t:new Error("Unknown error")})),R("Error fetching release data:",{level:"error"},t)}};N.default.useEffect(()=>{s()},[]);var c=N.default.useCallback(()=>{r();var e=null==(e=null==(e=t.releases)?void 0:e[0])?void 0:e.tag_name;e&&a(e)},[r,t.releases,a]);return N.default.createElement(N.default.Fragment,null,N.default.createElement(ke,{title:"Changelog",onClose:c,isOpen:o},N.default.createElement(Ct,{releases:t.releases,isLoading:t.isLoading,error:t.error,currentVersion:e})))},Pt=()=>{let a=n.default.useRef(null),[r,l]=n.default.useState(null),e=m().pageCategory;return(()=>{let a=m().setPageCategory;pt.default.useEffect(()=>{let e=()=>{var e=Spicetify.Platform.History.location.pathname;a(ft(e))},t=(e(),Spicetify.Platform.History.listen(()=>{e()}));return()=>{t()}},[a])})(),(()=>{let e=m().isGlobalNav;Lt.default.useEffect(()=>{xt(e)},[e])})(),n.default.useEffect(()=>{let t=()=>{var e,t;document.getElementById("lucid-under-main-view")||((e=document.createElement("div")).id="lucid-under-main-view",e.className="lucid-under-main-view",(t=document.querySelector(".main-view-container"))&&t.prepend(e),a.current=e,a.current&&Spicetify.ReactDOM.createRoot(a.current).render(n.default.createElement(qe,null)))},e=(t(),(()=>{var a=Spicetify.Locale;function r(e){return e.replace(/[{0}{1}«»”“]/g,"").trim()}if(a){r(a.get("playlist.a11y.play")||""),r(a.get("playlist.a11y.pause")||"");var l=a.get("play"),n=a.get("pause"),o=a.get("browse"),i=a.get("playback-control.skip-forward"),s=a.get("playback-control.skip-back"),c=a.get("buddy-feed.friend-activity"),u=a.get("tracklist.a11y.play")||"",d=a.get("view.web-player-home");let e,t;["zh-CN","zh-TW","am","fi"].includes(a.getLocale())?[e,t]=u.split("{1}"):[e,t]=u.split("{0}"),e=r(e),t=r(t);var u=a.get("playback-control.enable-repeat"),m=a.get("playback-control.enable-repeat-one"),a=a.get("playback-control.disable-repeat"),p=document.createElement("style");p.innerHTML=`
.main-repeatButton-button[aria-checked="false"],
.player-controls__right button[aria-label*="${u}"]  span{
  -webkit-mask-image: var(--repeat-off-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-off.svg"));
  mask-image: var(--repeat-off-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-off.svg"));
  background-color: var(--spice-subtext);
  mask-size: contain;
}

.main-repeatButton-button[aria-checked="mixed"],
.player-controls__right button[aria-label*="${a}"] span {
  -webkit-mask-image: var(--repeat-mixed-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-mixed.svg"));
  mask-image: var(--repeat-mixed-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat-mixed.svg"));
  background-color: var(--spice-accent);
  mask-size: contain;
}

.main-repeatButton-button[aria-checked="true"],
.player-controls__right button[aria-label*="${m}"] span {
  -webkit-mask-image: var(--repeat-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat.svg"));
  mask-image: var(--repeat-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/repeat.svg"));
  background-color: var(--spice-accent);
  mask-size: contain;
}

.player-controls__right button[aria-label*="${a}"] svg,
.player-controls__right button[aria-label*="${u}"] svg {
  transform: scale(1.15);
}

.player-controls__right button[aria-label*="${a}"] svg,
.player-controls__right button[aria-label*="${u}"] svg {
  visibility: hidden;
  opacity: 0;
}

.main-repeatButton-button {
  transform: scale(0.65) !important;
}

.player-controls__buttons>button[aria-label*="${l}"] span,
.main-playButton-button[aria-label*="${l}"],
.main-playButton-PlayButton>button[aria-label*="${l}"]{
  background-color: var(--spice-text) !important;
  -webkit-mask-image: var(--play-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/play.svg")) !important;
  mask-image: var(--play-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/play.svg")) !important;
}

.main-playButton-button[aria-label*="${n}"],
.main-playButton-PlayButton>button[aria-label*="${n}"],
.main-playPauseButton-button[aria-label*="${n}"],
.player-controls__buttons>button[aria-label*="${n}"] span {
  background-color: var(--spice-text) !important;
  -webkit-mask-image: var(--pause-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/pause.svg")) !important;
  mask-image: var(--pause-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/pause.svg")) !important;
}

.Root__globalNav button:is([aria-label="Clear search field"]) {
  background-color: transparent !important;
  border: none !important;
}

button[aria-label="${o}"] path {
  display: none !important;
}

button[aria-label="${o}"] svg {
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
  -webkit-mask-image: var(--compass-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/compass-outline.svg"));
  mask-image: var(--compass-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/compass-outline.svg"));
  background-color: var(--spice-subtext) !important;
  scale: 1.25;
}

.main-repeatButton-button[aria-label="${u}"],
.main-repeatButton-button[aria-label="${a}"],
.main-repeatButton-button[aria-label="${m}"],
{
scale: 0.75 !important;
background-color: var(--spice-subtext) !important;
color: var(--spice-subtext);

svg {
  display: none;
}
}

.player-controls__buttons>button[aria-label*="${l}"] span,
.player-controls__buttons>button[aria-label*="${n}"] span{
  display: block;
  mask-size: 100%;
  -webkit-mask-position: center center;
  mask-position: center center;
  background-color: var(--spice-subtext);
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: cover;
  mask-size: cover;
  aspect-ratio: 1/1;
}

.main-playPauseButton-button,
.player-controls button[aria-label="${s}"],
.player-controls button[aria-label="${i}"]
{
  display: block;
  mask-size: 100%;
  -webkit-mask-position: center center;
  mask-position: center center;
  background-color: var(--spice-subtext);
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-size: cover;
  mask-size: cover;
  min-height: 1rem;
  min-width: 1rem;
  aspect-ratio: 1/1;
  border-radius: 0 !important;
  border: none !important;
  height: var(--button-size, 24px);
  width: var(--button-size, 24px);
  
  svg,
  span {
    display: none;
    visibility: hidden;
  }
}

.player-controls__buttons>button[aria-label*="${l}"] span svg,
.player-controls__buttons>button[aria-label*="${n}"] span svg {
  display: none;
  visibility: hidden;
}

.player-controls button[aria-label="${s}"] span,
.player-controls button[aria-label="${i}"] span {
  opacity: 0;
}

.player-controls button[aria-label="${s}"] {
  background-color: var(--spice-text);
  -webkit-mask-image: var(--prev-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/prev.svg"));
  mask-image: var(--prev-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/prev.svg"));
}

.player-controls button[aria-label="${i}"] {
  background-color: var(--spice-text);
  -webkit-mask-image: var(--next-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/next.svg"));
  mask-image: var(--next-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/next.svg"));
}

button[aria-label="${c}"]>path {
  display: none;
}

.main-actionButtons>div>button[aria-label="${c}"] svg,
.main-actionButtons>button[aria-label="${c}"] svg {
  -webkit-mask-size: contain;
  mask-size: contain;
  -webkit-mask-position: center;
  mask-position: center;
  background-color: var(--spice-subtext) !important;
  -webkit-mask-image: var(--people-team-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/people-team.svg"));
  mask-image: var(--people-team-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/people-team.svg"));
}

.main-yourLibraryX-navLink[aria-label="${d}"] svg,
button[aria-label="${d}"] svg {
  path {
display: none !important;
  }

  mask-image: var(--home-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-outline.svg"));
  -webkit-mask-image: var(--home-outline-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-outline.svg"));
  background-color: var(--spice-subtext) !important;
}


.main-yourLibraryX-navLink[aria-label="${d}"].active svg,
.main-globalNav-navLinkActive[aria-label="${d}"] svg {
  path {
display: none !important;
  }

  mask-image: var(--home-filled-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-filled.svg"));
  -webkit-mask-image: var(--home-filled-icon, url("https://sanooj.is-a.dev/Spicetify-Lucid/assets/icons/home-filled.svg"));
  background-color: var(--spice-text) !important;
}

.main-yourLibraryX-navLink[aria-label="${d}"].active svg {
  path {
display: none !important;
  }

  background-color: var(--spice-accent) !important;
}

#context-menu ul[aria-label*="Add to playlist menu"] {
  p {
max-width: 10rem;
  }
}
`,document.head.appendChild(p)}})(),(()=>{let e=document.getElementById("lucid-background-style");e||((e=document.createElement("style")).id="lucid-background-style",document.head.appendChild(e));var t=document.querySelector("#lyrics-cinema"),t=(t&&mt(t,"#lyrics-cinema .lyrics-lyrics-background, #lyrics-cinema .lyrics-lyrics-container",e,6),document.querySelector("#main .Root > div:last-child"));t&&mt(t,'.Root div[data-testid="fullscreen-mode-container"], .Root .npv-main-container',e,15)})(),Spicetify.Platform.History.listen(()=>{var e=Spicetify.Platform.History.location.pathname;e!==r&&(l(e),t())}));return()=>{e()}},[r]),n.default.useEffect(()=>(document.body.classList.add(e),()=>{document.body.classList.remove(e)}),[e]),n.default.createElement(n.default.Fragment,null,n.default.createElement("div",{id:"state"},n.default.createElement(Ke,null),n.default.createElement(_t,null),n.default.createElement(Je,null),n.default.createElement(et,null),n.default.createElement(nt,null),n.default.createElement(at,null)),n.default.createElement("div",{id:"background-container",className:"background-container",style:{containerType:"normal"}},n.default.createElement(Ee,null)),n.default.createElement(Q,null,n.default.createElement("div",{id:"modal-container",className:"modal-container",style:{containerType:"normal"}},n.default.createElement(Ge,null),n.default.createElement(Ot,null))),n.default.createElement(ct,null))},U=e(r()),Mt="https://github.com/sanoojes/Spicetify-Lucid/issues",It=({error:e})=>{let[t,a]=U.default.useState(!1),r=U.default.useRef(null),l="";l=e instanceof Error?e.message:JSON.stringify(e,null,2);return U.default.createElement("div",{style:{width:"50vw"}},U.default.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},U.default.createElement("span",{style:{margin:"auto 0"}},U.default.createElement("p",null,"Oops! Lucid theme encountered an error. Please"," ",U.default.createElement("a",{href:Mt,target:"_blank",rel:"noopener noreferrer"},"report an issue here"))),U.default.createElement("div",null,U.default.createElement("button",{type:"button",onClick:()=>a(!t),className:"lucid-error-button"},t?"Hide Details":"Show Details"),U.default.createElement("button",{type:"button",onClick:()=>{r.current&&(navigator.clipboard.writeText(r.current.textContent||""),Spicetify.showNotification("Error details copied!",!1,2e3))},className:"lucid-copy-button",style:{marginLeft:"8px"}},"Copy Error"))),t&&U.default.createElement("pre",{style:{whiteSpace:"pre-wrap"},ref:r},l))},Nt=async function(){try{for(;!(null!=Spicetify&&Spicetify.showNotification&&null!=Spicetify&&Spicetify.Player&&null!=Spicetify&&Spicetify.React&&null!=Spicetify&&Spicetify.Platform);)await new Promise(e=>setTimeout(e,100));let e=document.getElementById("lucid-main");e||((e=document.createElement("div")).id="lucid-main",null!=(t=document.getElementById("main"))&&t.prepend(e)),e&&!e.hasChildNodes()&&Spicetify.ReactDOM.createRoot(e).render(X.default.createElement(Pt,null)),R("Lucid ignited! 🚀",{styles:"font-weight: bold; font-size: 1.25rem; color: #2196F3; padding: 0.5rem 0;"})}catch(e){R("Error: "+(t=e),{level:"error"}),Spicetify.showNotification(U.default.createElement(It,{error:t}),!0)}var t};(async()=>{await Nt()})()})();